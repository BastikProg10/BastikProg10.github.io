<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°–æ–∑–¥–∞—Ç—å –±–∏–æ-—Å—Å—ã–ª–∫—É</title>
  <style>
    body {
      background: #000;
      color: #FFD700;
      font-family: 'Montserrat', sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }
    label, select, input, button {
      font-size: 18px;
      margin-top: 10px;
      display: block;
      width: 100%;
    }
    select, input {
      padding: 8px;
      margin-top: 5px;
      background: #222;
      border: none;
      color: #FFD700;
      border-radius: 4px;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      background: #FFD700;
      border: none;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.3s;
    }
    button:hover {
      background: #e6c200;
    }
    .result {
      margin-top: 30px;
      word-break: break-all;
    }
  </style>
</head>
<body>

  <h1>–°–æ–∑–¥–∞—Ç—å –±–∏–æ-—Å—Å—ã–ª–∫—É</h1>

  <label for="text">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (—Ç–µ–∫—Å—Ç):</label>
  <input type="text" id="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ú–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å" />

  <label for="color">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
  <select id="color">
    <option value="#FFA500">üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π</option>
    <option value="#FFFF00">üü° –ñ–µ–ª—Ç—ã–π</option>
    <option value="#008000">üü¢ –ó–µ–ª–µ–Ω—ã–π</option>
    <option value="#8B4513">üü§ –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π</option>
    <option value="#800080">üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π</option>
    <option value="#000000">‚ö´ –ß–µ—Ä–Ω—ã–π</option>
    <option value="#0000FF">üîµ –°–∏–Ω–∏–π</option>
    <option value="#FF0000">üî¥ –ö—Ä–∞—Å–Ω—ã–π</option>
    <option value="#FFFFFF">‚ö™ –ë–µ–ª—ã–π</option>
  </select>

  <button id="createBtn">–°–æ–∑–¥–∞—Ç—å!</button>

  <div class="result" id="result"></div>

  <script>
    const createBtn = document.getElementById('createBtn');
    const result = document.getElementById('result');

    createBtn.onclick = async () => {
      const text = document.getElementById('text').value.trim();
      const color = document.getElementById('color').value;

      if (!text) {
        alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç');
        return;
      }

      try {
        const res = await fetch('/createBio', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text, color })
        });

        if (!res.ok) {
          throw new Error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–æ-—Å—Å—ã–ª–∫–∏');
        }

        const data = await res.json();

        const link = `http://t.me/MifixDropBot/startapp?startapp=${data.uid}`;
        result.innerHTML = `–°—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞!<br><a href="${link}" target="_blank">${link}</a>`;
      } catch (e) {
        alert(e.message);
      }
    };
  </script>

</body>
</html>
